import java.sql.*;

public class DatabaseCommunicator {
	
	private static Connection getDatabaseCommunicator()
	{
		Connection dbConnection = null;
		try
		{
			Class.forName("org.sqlite.JDBC");
		}
		catch (ClassNotFoundException e)
		{
			System.out.println(e.getMessage());
		}
		
		try
		{
			String dbURL = "jdbc:sqlite:main.sqlite"; //TODO: Insert URL (jdbc:sqlite:<somename>.sqlite)
			dbConnection = DriverManager.getConnection(dbURL);
			return dbConnection;
		}
		catch( SQLException e)
		{
			System.out.println(e.getMessage());
		}
		return dbConnection;
	}
	
	//TODO: SQL: Make request.
	public static void MakeRequest() throws SQLException
	{
		Connection dbConnection = null;
		Statement statement = null;
		ResultSet resultSet = null;
		String query = "SELECT * FROM all_tables;";
		
		try
		{
			dbConnection = getDatabaseCommunicator();
			statement = dbConnection.createStatement();
			System.out.println(query);
			resultSet = statement.executeQuery(query);
			while(resultSet.next())
			{
				System.out.println(resultSet.getString("Column ID"));
			}
		}
		catch (SQLException e)
		{
			System.out.println(e.getMessage());
		}
		finally
		{
			if(resultSet != null)
				resultSet.close();
			if(resultSet != null)
				statement.close();
			if(dbConnection != null)
				dbConnection.close();
		}
	}
}
